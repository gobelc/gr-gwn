<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>GWN FSM: fsm.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GWN FSM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">fsm.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A finite state machine (<a class="el" href="classFSM.html" title="GWN Finite State Machine (GWN FSM) with string as symbols. ">FSM</a>).  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;exception&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;tuple&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;stack&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for fsm.h:</div>
<div class="dyncontent">
<div class="center"><img src="fsm_8h__incl.png" border="0" usemap="#fsm_8h" alt=""/></div>
</div>
</div>
<p><a href="fsm_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classExceptionFSM.html">ExceptionFSM</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFSM.html">FSM</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">GWN Finite State Machine (GWN <a class="el" href="classFSM.html" title="GWN Finite State Machine (GWN FSM) with string as symbols. ">FSM</a>) with string as symbols.  <a href="classFSM.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a39b72a7c518f63bea42256c382e83f98"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#a39b72a7c518f63bea42256c382e83f98">type_action</a>) (<a class="el" href="classFSM.html">FSM</a> &amp;fsm)</td></tr>
<tr class="separator:a39b72a7c518f63bea42256c382e83f98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20a2eaf553b567a4fa1f9a98702cdff7"><td class="memItemLeft" align="right" valign="top">typedef bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#a20a2eaf553b567a4fa1f9a98702cdff7">type_condition</a>) (<a class="el" href="classFSM.html">FSM</a> &amp;fsm)</td></tr>
<tr class="separator:a20a2eaf553b567a4fa1f9a98702cdff7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09238b2f16d2c405daafd5f930724bd4"><td class="memItemLeft" align="right" valign="top">typedef std::tuple&lt; std::string, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#a09238b2f16d2c405daafd5f930724bd4">from_state</a></td></tr>
<tr class="separator:a09238b2f16d2c405daafd5f930724bd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66aecd9075a048e19a74ad12abbfdbfd"><td class="memItemLeft" align="right" valign="top">typedef std::tuple&lt; <a class="el" href="fsm_8h.html#a39b72a7c518f63bea42256c382e83f98">type_action</a>, std::string, <a class="el" href="fsm_8h.html#a20a2eaf553b567a4fa1f9a98702cdff7">type_condition</a>, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#a66aecd9075a048e19a74ad12abbfdbfd">to_state</a></td></tr>
<tr class="separator:a66aecd9075a048e19a74ad12abbfdbfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61086d9caf0ee617b3f5a1c22e1b827c"><td class="memItemLeft" align="right" valign="top">typedef std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#a61086d9caf0ee617b3f5a1c22e1b827c">mem_type</a></td></tr>
<tr class="separator:a61086d9caf0ee617b3f5a1c22e1b827c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A finite state machine (<a class="el" href="classFSM.html" title="GWN Finite State Machine (GWN FSM) with string as symbols. ">FSM</a>). </p>
<dl class="section author"><dt>Author</dt><dd>Victor Gonzalez-Barbone </dd></dl>
<dl class="section date"><dt>Date</dt><dd>9 Nov 2018.</dd></dl>
<p>This module implements a Finite State Machine (<a class="el" href="classFSM.html" title="GWN Finite State Machine (GWN FSM) with string as symbols. ">FSM</a>) engine. In addition to the usual states and transitions, the GWN <a class="el" href="classFSM.html" title="GWN Finite State Machine (GWN FSM) with string as symbols. ">FSM</a> includes actions, conditions, and memory.</p>
<p>The <a class="el" href="classFSM.html" title="GWN Finite State Machine (GWN FSM) with string as symbols. ">FSM</a> is defined by transitions. For an input symbol, according to the current state in which the machine is, if there is a transition for the pair (symbol, current state), the condition is evaluated, and if found true, the action is executed and the next state is made the current state (the machine is moved to the next state).</p>
<p>An action is a user written function executed on a transition, before moving the machine to the next state. The action function, as well as the transition, are only executed if the condition function for the transition is true.</p>
<p>A condition is a user written function which returns true or false when executed or evaluated. The action function and the transition are only executed if the condition evaluates to true. If the condition evaluates to false, the transition is not performed, and its related action is not executed. The use of action functions is optional, since actions can be coded in condition functions. In this case, care must be taken in returning false before the actions are executed, to ensure the actions will only be executed if the condition evaluates to true.</p>
<p>Memory is implemented as a stack and is accessed as a LIFO (Last In First Out) container. A type definition describes the type of data stored in the <a class="el" href="classFSM.html" title="GWN Finite State Machine (GWN FSM) with string as symbols. ">FSM</a> memory. By changing the data type definition, different types of data may be stored. Memory functions in the <a class="el" href="classFSM.html" title="GWN Finite State Machine (GWN FSM) with string as symbols. ">FSM</a> machine allow to push, pop, determine size of the stack, and if it is empty.</p>
<p>The <a class="el" href="classFSM.html" title="GWN Finite State Machine (GWN FSM) with string as symbols. ">FSM</a> is implemented as a table of transitions. For a given input symbol and according to the current state the machine is in, the process() method searches the table for a transition corresponding to the pair (input symbol, current state). If one or more transitions are found, the condition functions are evaluated. The first transition where the condition is true is executed, which means the action is executed and the next state is made the current state (the machine is moved to the next state). If no transitions are found or no conditions are true on the found transitions, nothing happens; the action is not excecuted, and the current state is not changed.</p>
<p>The table of transitions defines the following associations: </p><pre class="fragment">    (input_symbol, current_state) --&gt; (action, next_state, condition)
</pre><p>where action is a function, symbols and states are strings, and condition is a function which returns a boolean. This table is created through the <a class="el" href="classFSM.html" title="GWN Finite State Machine (GWN FSM) with string as symbols. ">FSM</a> methods add_transition().</p>
<p>A transition with the null string as an input_symbol ('') stands for a transition valid for any input symbol. For the current state, if the condition is true, the transition will be executed on receiving any symbol.</p>
<p>The <a class="el" href="classFSM.html" title="GWN Finite State Machine (GWN FSM) with string as symbols. ">FSM</a> accepts one default transition not associated with any specific input symbol or state, i.e. valid for any input symbol and any current state. The default transition may be used as a catch-all transition. The default transition is set by insertin a transition with null strings as input symbol and current state, i.e. a pair ("", ""). There should be only one default transition; if there are several, the first one found will be executed.</p>
<p>The <a class="el" href="classFSM.html" title="GWN Finite State Machine (GWN FSM) with string as symbols. ">FSM</a> machine operates in the following way. On receiving a symbol,</p><ol type="1">
<li>The <a class="el" href="classFSM.html" title="GWN Finite State Machine (GWN FSM) with string as symbols. ">FSM</a> searches the transition table for a key (input symbol, current state). If one or more transitions are found, the condition is evaluated for each transition in order. The first transition on which condition is true is executed.</li>
<li>If no conditions in any of the found transitions are true, or no transitions were found, the <a class="el" href="classFSM.html" title="GWN Finite State Machine (GWN FSM) with string as symbols. ">FSM</a> searches the transition table for a key ("", current state), which stands for a transition valid for any input symbol. If one or more are found, their conditions are evaluated, and the first condition which returns true is executed.</li>
<li>If no transitions with true conditions were found so far, the <a class="el" href="classFSM.html" title="GWN Finite State Machine (GWN FSM) with string as symbols. ">FSM</a> searches for a default transition and executes it if one is found.</li>
<li>If no valid transition was found, i.e. no default transition exists, the <a class="el" href="classFSM.html" title="GWN Finite State Machine (GWN FSM) with string as symbols. ">FSM</a> will raise an exception.</li>
</ol>
<p>The action functions and the condition functions receive a reference to the <a class="el" href="classFSM.html" title="GWN Finite State Machine (GWN FSM) with string as symbols. ">FSM</a> object as a parameter, hence the action function has access to all attributes in the <a class="el" href="classFSM.html" title="GWN Finite State Machine (GWN FSM) with string as symbols. ">FSM</a>, such as current state, input symbol or memory.</p>
<p>The GWN Finite State Machine implementation is an extension of Noah Spurrier's <a class="el" href="classFSM.html" title="GWN Finite State Machine (GWN FSM) with string as symbols. ">FSM</a> 20020822, C{<a href="http://www.noah.org/python/FSM/">http://www.noah.org/python/FSM/</a>}. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a09238b2f16d2c405daafd5f930724bd4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::tuple&lt;std::string, std::string&gt; <a class="el" href="fsm_8h.html#a09238b2f16d2c405daafd5f930724bd4">from_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>from_state : (input symbol, current state) </p>

</div>
</div>
<a class="anchor" id="a61086d9caf0ee617b3f5a1c22e1b827c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::string <a class="el" href="fsm_8h.html#a61086d9caf0ee617b3f5a1c22e1b827c">mem_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>memory object type definition </p>

</div>
</div>
<a class="anchor" id="a66aecd9075a048e19a74ad12abbfdbfd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::tuple&lt;<a class="el" href="fsm_8h.html#a39b72a7c518f63bea42256c382e83f98">type_action</a>, std::string, <a class="el" href="fsm_8h.html#a20a2eaf553b567a4fa1f9a98702cdff7">type_condition</a>, std::string&gt; <a class="el" href="fsm_8h.html#a66aecd9075a048e19a74ad12abbfdbfd">to_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>to_state : (type_action, next state, condition, comment) </p>

</div>
</div>
<a class="anchor" id="a39b72a7c518f63bea42256c382e83f98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* type_action) (<a class="el" href="classFSM.html">FSM</a> &amp;fsm)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>action function type definition </p>

</div>
</div>
<a class="anchor" id="a20a2eaf553b567a4fa1f9a98702cdff7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef bool(* type_condition) (<a class="el" href="classFSM.html">FSM</a> &amp;fsm)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>condition function type definition </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
